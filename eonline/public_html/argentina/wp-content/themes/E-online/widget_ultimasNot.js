/**
 * Twitter - http://twitter.com
 * Copyright (C) 2010 Twitter
 * Author: Dustin Diaz (dustin@twitter.com)
 *
 * V 2.2.5 Twitter search/profile/faves/list widget
 * http://twitter.com/widgets
 * For full documented source see http://twitter.com/javascripts/widgets/widget.js
 * Hosting and modifications of the original source IS allowed.
 */

TWTR=window.TWTR||{};if(!Array.forEach){Array.prototype.filter=function(E,F){var D=F||window;var A=[];for(var C=0,B=this.length;C<B;++C){if(!E.call(D,this[C],C,this)){continue}A.push(this[C])}return A};Array.prototype.indexOf=function(B,C){var C=C||0;for(var A=0;A<this.length;++A){if(this[A]===B){return A}}return -1}}(function(){if(TWTR&&TWTR.Widget){return }function B(D,G,C){for(var F=0,E=D.length;F<E;++F){G.call(C||window,D[F],F,D)}}function A(C,E,D){this.el=C;this.prop=E;this.from=D.from;this.to=D.to;this.time=D.time;this.callback=D.callback;this.animDiff=this.to-this.from}A.canTransition=function(){var C=document.createElement("twitter");C.style.cssText="-webkit-transition: all .5s linear;";return !!C.style.webkitTransitionProperty}();A.prototype._setStyle=function(C){switch(this.prop){case"opacity":this.el.style[this.prop]=C;this.el.style.filter="alpha(opacity="+C*100+")";break;default:this.el.style[this.prop]=C+"px";break}};A.prototype._animate=function(){var C=this;this.now=new Date();this.diff=this.now-this.startTime;if(this.diff>this.time){this._setStyle(this.to);if(this.callback){this.callback.call(this)}clearInterval(this.timer);return }this.percentage=(Math.floor((this.diff/this.time)*100)/100);this.val=(this.animDiff*this.percentage)+this.from;this._setStyle(this.val)};A.prototype.start=function(){var C=this;this.startTime=new Date();this.timer=setInterval(function(){C._animate.call(C)},15)};TWTR.Widget=function(C){this.init(C)};(function(){var R={};var O=location.protocol.match(/https/);var Q=/^.+\/profile_images/;var W="https://s3.amazonaws.com/twitter_production/profile_images";var f={};var d=function(h){var g=f[h];if(!g){g=new RegExp("(?:^|\\s+)"+h+"(?:\\s+|$)");f[h]=g}return g};var D=function(l,p,m,n){var p=p||"*";var m=m||document;var h=[],g=m.getElementsByTagName(p),o=d(l);for(var j=0,k=g.length;j<k;++j){if(o.test(g[j].className)){h[h.length]=g[j];if(n){n.call(g[j],g[j])}}}return h};var e=function(){var g=navigator.userAgent;return{ie:g.match(/MSIE\s([^;]*)/)}}();var H=function(g){if(typeof g=="string"){return document.getElementById(g)}return g};var X=function(g){return g.replace(/^\s+|\s+$/g,"")};var V=function(){var g=self.innerHeight;var h=document.compatMode;if((h||e.ie)){g=(h=="CSS1Compat")?document.documentElement.clientHeight:document.body.clientHeight}return g};var c=function(i,g){var h=i.target||i.srcElement;return g(h)};var T=function(h){try{if(h&&3==h.nodeType){return h.parentNode}else{return h}}catch(g){}};var U=function(h){var g=h.relatedTarget;if(!g){if(h.type=="mouseout"){g=h.toElement}else{if(h.type=="mouseover"){g=h.fromElement}}}return T(g)};var Z=function(h,g){g.parentNode.insertBefore(h,g.nextSibling)};var a=function(h){try{h.parentNode.removeChild(h)}catch(g){}};var Y=function(g){return g.firstChild};var C=function(i){var h=U(i);while(h&&h!=this){try{h=h.parentNode}catch(g){h=this}}if(h!=this){return true}return false};var G=function(){if(document.defaultView&&document.defaultView.getComputedStyle){return function(h,k){var j=null;var i=document.defaultView.getComputedStyle(h,"");if(i){j=i[k]}var g=h.style[k]||j;return g}}else{if(document.documentElement.currentStyle&&e.ie){return function(g,i){var h=g.currentStyle?g.currentStyle[i]:null;return(g.style[i]||h)}}}}();var b={has:function(g,h){return new RegExp("(^|\\s)"+h+"(\\s|$)").test(H(g).className)},add:function(g,h){if(!this.has(g,h)){H(g).className=X(H(g).className)+" "+h}},remove:function(g,h){if(this.has(g,h)){H(g).className=H(g).className.replace(new RegExp("(^|\\s)"+h+"(\\s|$)","g"),"")}}};var E={add:function(i,h,g){if(i.addEventListener){i.addEventListener(h,g,false)}else{i.attachEvent("on"+h,function(){g.call(i,window.event)})}},remove:function(i,h,g){if(i.removeEventListener){i.removeEventListener(h,g,false)}else{i.detachEvent("on"+h,g)}}};var N=function(){function h(j){return parseInt((j).substring(0,2),16)}function g(j){return parseInt((j).substring(2,4),16)}function i(j){return parseInt((j).substring(4,6),16)}return function(j){return[h(j),g(j),i(j)]}}();var I={bool:function(g){return typeof g==="boolean"},def:function(g){return !(typeof g==="undefined")},number:function(g){return typeof g==="number"&&isFinite(g)},string:function(g){return typeof g==="string"},fn:function(g){return typeof g==="function"},array:function(g){if(g){return I.number(g.length)&&I.fn(g.splice)}return false}};var M=["January","February","March","April","May","June","July","August","September","October","November","December"];var S=function(j){var m=new Date(j);if(e.ie){m=Date.parse(j.replace(/( \+)/," UTC$1"))}var h="";var g=function(){var n=m.getHours();if(n>0&&n<13){h="am";return n}else{if(n<1){h="am";return 12}else{h="pm";return n-12}}}();var i=m.getMinutes();var l=m.getSeconds();function k(){var n=new Date();if(n.getDate()!=m.getDate()||n.getYear()!=m.getYear()||n.getMonth()!=m.getMonth()){return" - "+M[m.getMonth()]+" "+m.getDate()+", "+m.getFullYear()}else{return""}}return g+":"+i+h+k()};var K=function(m){var o=new Date();var k=new Date(m);if(e.ie){k=Date.parse(m.replace(/( \+)/," UTC$1"))}var n=o-k;var h=1000,i=h*60,j=i*60,l=j*24,g=l*7;if(isNaN(n)||n<0){return""}if(n<h*2){return"right now"}if(n<i){return Math.floor(n/h)+" seconds ago"}if(n<i*2){return"about 1 minute ago"}if(n<j){return Math.floor(n/i)+" minutes ago"}if(n<j*2){return"about 1 hour ago"}if(n<l){return Math.floor(n/j)+" hours ago"}if(n>l&&n<l*2){return"yesterday"}if(n<l*365){return Math.floor(n/l)+" days ago"}else{return"over a year ago"}};var F={link:function(g){return g.replace(/\b(((https*\:\/\/)|www\.)[^\"\']+?)(([!?,.\)]+)?(\s|$))/g,function(m,l,j,i,h){var k=j.match(/w/)?"http://":"";return'<a class="twtr-hyperlink" target="_blank" href="'+k+l+'">'+((l.length>25)?l.substr(0,24)+"...":l)+"</a>"+h})},at:function(g){return g.replace(/\B[@＠]([a-zA-Z0-9_]{1,20})/g,function(h,i){return'@<a target="_blank" class="twtr-atreply" href="http://twitter.com/'+i+'">'+i+"</a>"})},list:function(g){return g.replace(/\B[@＠]([a-zA-Z0-9_]{1,20}\/\w+)/g,function(h,i){return'@<a target="_blank" class="twtr-atreply" href="http://twitter.com/'+i+'">'+i+"</a>"})},hash:function(g){return g.replace(/(^|\s+)#(\w+)/gi,function(h,i,j){return i+'<a target="_blank" class="twtr-hashtag" href="http://twitter.com/search?q=%23'+j+'">#'+j+"</a>"})},clean:function(g){return this.hash(this.at(this.list(this.link(g))))}};function P(h,i,g){this.job=h;this.decayFn=i;this.interval=g;this.decayRate=1;this.decayMultiplier=1.25;this.maxDecayTime=3*60*1000}P.prototype={start:function(){this.stop().run();return this},stop:function(){if(this.worker){window.clearTimeout(this.worker)}return this},run:function(){var g=this;this.job(function(){g.decayRate=g.decayFn()?Math.max(1,g.decayRate/g.decayMultiplier):g.decayRate*g.decayMultiplier;var h=g.interval*g.decayRate;h=(h>=g.maxDecayTime)?g.maxDecayTime:h;h=Math.floor(h);g.worker=window.setTimeout(function(){g.run.call(g)},h)})},destroy:function(){this.stop();this.decayRate=1;return this}};function J(h,g,i){this.time=h||6000;this.loop=g||false;this.repeated=0;this.callback=i;this.haystack=[]}J.prototype={set:function(g){this.haystack=g},add:function(g){this.haystack.unshift(g)},start:function(){if(this.timer){return this}this._job();var g=this;this.timer=setInterval(function(){g._job.call(g)},this.time);return this},stop:function(){if(this.timer){window.clearInterval(this.timer);this.timer=null}return this},_next:function(){var g=this.haystack.shift();if(g&&this.loop){this.haystack.push(g)}return g||null},_job:function(){var g=this._next();if(g){this.callback(g)}return this}};function L(i){function g(){if(i.needle.metadata&&i.needle.metadata.result_type&&i.needle.metadata.result_type=="popular"){return'<span class="twtr-popular">'+i.needle.metadata.recent_retweets+"+ recent retweets</span>"}else{return""}}if(O){i.avatar=i.avatar.replace(Q,W)}var h='<div class="twtr-tweet-wrap">         <div class="twtr-avatar">           <div class="twtr-img"><a target="_blank" href="http://twitter.com/'+i.user+'"><img alt="'+i.user+' profile" src="'+i.avatar+'"></a></div>         </div>         <div class="twtr-tweet-text">           <p>             <a target="_blank" href="http://twitter.com/'+i.user+'" class="twtr-user">'+i.user+"</a> "+i.tweet+'             <em>            <a target="_blank" class="twtr-timestamp" time="'+i.timestamp+'" href="http://twitter.com/'+i.user+"/status/"+i.id+'">'+i.created_at+'</a> &middot;            <a target="_blank" class="twtr-reply" href="http://twitter.com/?status=@'+i.user+"%20&in_reply_to_status_id="+i.id+"&in_reply_to="+i.user+'">reply</a>             </em> '+g()+"           </p>         </div>       </div>";var j=document.createElement("div");j.id="tweet-id-"+ ++L._tweetCount;j.className="twtr-tweet";j.innerHTML=h;this.element=j}L._tweetCount=0;R.loadStyleSheet=function(i,h){if(!TWTR.Widget.loadingStyleSheet){TWTR.Widget.loadingStyleSheet=true;var g=document.createElement("link");g.href=i;g.rel="stylesheet";g.type="text/css";document.getElementsByTagName("head")[0].appendChild(g);var j=setInterval(function(){var k=G(h,"position");if(k=="relative"){clearInterval(j);j=null;TWTR.Widget.hasLoadedStyleSheet=true}},50)}};(function(){var g=false;R.css=function(j){var i=document.createElement("style");i.type="text/css";if(e.ie){i.styleSheet.cssText=j}else{var k=document.createDocumentFragment();k.appendChild(document.createTextNode(j));i.appendChild(k)}function h(){document.getElementsByTagName("head")[0].appendChild(i)}if(!e.ie||g){h()}else{window.attachEvent("onload",function(){g=true;h()})}}})();TWTR.Widget.isLoaded=false;TWTR.Widget.loadingStyleSheet=false;TWTR.Widget.hasLoadedStyleSheet=false;TWTR.Widget.WIDGET_NUMBER=0;TWTR.Widget.matches={mentions:/^@[a-zA-Z0-9_]{1,20}\b/,any_mentions:/\b@[a-zA-Z0-9_]{1,20}\b/};TWTR.Widget.jsonP=function(h,j){var g=document.createElement("script");var i=document.getElementsByTagName("head")[0];g.type="text/javascript";g.src=h;i.insertBefore(g,i.firstChild);j(g);return g};TWTR.Widget.prototype=function(){var j=O?"https://":"http://";var l=j+"search.twitter.com/search.";var m=j+"api.twitter.com/1/statuses/user_timeline.";var i=j+"twitter.com/favorites/";var k=j+"twitter.com/";var h=25000;var g=O?"https://twitter-widgets.s3.amazonaws.com/j/1/default.gif":"http://widgets.twimg.com/j/1/default.gif";return{init:function(o){var n=this;this._widgetNumber=++TWTR.Widget.WIDGET_NUMBER;TWTR.Widget["receiveCallback_"+this._widgetNumber]=function(p){n._prePlay.call(n,p)};this._cb="TWTR.Widget.receiveCallback_"+this._widgetNumber;this.opts=o;this._base=l;this._isRunning=false;this._hasOfficiallyStarted=false;this._hasNewSearchResults=false;this._rendered=false;this._profileImage=false;this._isCreator=!!o.creator;this._setWidgetType(o.type);this.timesRequested=0;this.runOnce=false;this.newResults=false;this.results=[];this.jsonMaxRequestTimeOut=19000;this.showedResults=[];this.sinceId=1;this.source="TWITTERINC_WIDGET";this.id=o.id||"twtr-widget-"+this._widgetNumber;this.tweets=0;this.setDimensions(o.width,o.height);this.interval=o.interval||6000;this.format="json";this.rpp=o.rpp||50;this.subject=o.subject||"";this.title=o.title||"";this.setFooterText(o.footer);this.setSearch(o.search);this._setUrl();this.theme=o.theme?o.theme:this._getDefaultTheme();if(!o.id){document.write('<div class="twtr-widget" id="'+this.id+'"></div>')}this.widgetEl=H(this.id);if(o.id){b.add(this.widgetEl,"twtr-widget")}if(o.version>=2&&!TWTR.Widget.hasLoadedStyleSheet){if(O){R.loadStyleSheet("https://twitter-widgets.s3.amazonaws.com/j/2/widget.css",this.widgetEl)}else{if(o.creator){R.loadStyleSheet("/stylesheets/widgets/widget.css",this.widgetEl)}else{R.loadStyleSheet("http://widgets.twimg.com/j/2/widget.css",this.widgetEl)}}}this.occasionalJob=new P(function(p){n.decay=p;n._getResults.call(n)},function(){return n._decayDecider.call(n)},h);this._ready=I.fn(o.ready)?o.ready:function(){};this._isRelativeTime=true;this._tweetFilter=fa